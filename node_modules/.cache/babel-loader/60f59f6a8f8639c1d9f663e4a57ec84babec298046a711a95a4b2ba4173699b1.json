{"ast":null,"code":"var _jsxFileName = \"/Users/michielheerkens/Desktop/Hoi/ServiceMedewerkers/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\nimport jsPDF from 'jspdf';\nimport './App.css';\nimport InspectieTab from './InspectieTab';\nimport TodoTab from './TodoTab';\nimport ContactpersonenTab from './ContactpersonenTab';\n\n// Hardcoded data - Standaard matten (productnummer start met 00M)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HARDCODED_STANDAARD_MATTEN = [{\n  productnummer: \"00M001\",\n  mat_type: \"Standaard mat 60x90\",\n  afdeling: \"Ingang\",\n  ligplaats: \"Hoofdingang\",\n  aantal: 2,\n  aanwezig: true,\n  schoon_onbeschadigd: true,\n  vuilgraad_label: \"Schoon\",\n  barcode: \"\",\n  opmerkingen: \"\"\n}, {\n  productnummer: \"00M002\",\n  mat_type: \"Standaard mat 90x120\",\n  afdeling: \"Kantoor\",\n  ligplaats: \"Receptie\",\n  aantal: 1,\n  aanwezig: true,\n  schoon_onbeschadigd: false,\n  vuilgraad_label: \"Licht vervuild\",\n  barcode: \"\",\n  opmerkingen: \"Vervangen nodig\"\n}, {\n  productnummer: \"00M003\",\n  mat_type: \"Standaard mat 120x180\",\n  afdeling: \"Magazijn\",\n  ligplaats: \"Ingang magazijn\",\n  aantal: 3,\n  aanwezig: false,\n  schoon_onbeschadigd: false,\n  vuilgraad_label: \"Sterk vervuild\",\n  barcode: \"\",\n  opmerkingen: \"Niet aanwezig - controleren\"\n}, {\n  productnummer: \"00M004\",\n  mat_type: \"Standaard mat 60x90\",\n  afdeling: \"Algemeen\",\n  ligplaats: \"Algemeen\",\n  aantal: 1,\n  aanwezig: true,\n  schoon_onbeschadigd: true,\n  vuilgraad_label: \"Schoon\",\n  barcode: \"\",\n  opmerkingen: \"Ligplaats aanpassen in TMS\"\n}, {\n  productnummer: \"00M005\",\n  mat_type: \"Standaard mat 90x120\",\n  afdeling: \"Kantine\",\n  ligplaats: \"Ingang kantine\",\n  aantal: 2,\n  aanwezig: true,\n  schoon_onbeschadigd: false,\n  vuilgraad_label: \"Licht vervuild\",\n  barcode: \"\",\n  opmerkingen: \"Reinigen nodig\"\n}];\n\n// Logomatten (productnummer start met L)\nconst HARDCODED_LOGOMATTEN = [{\n  productnummer: \"L001\",\n  mat_type: \"Logo mat Lavans\",\n  afdeling: \"Ingang\",\n  ligplaats: \"Hoofdingang\",\n  aantal: 1,\n  aanwezig: true,\n  schoon_onbeschadigd: true,\n  vuilgraad_label: \"Schoon\",\n  barcode: \"0300522\",\n  opmerkingen: \"\"\n}, {\n  productnummer: \"L002\",\n  mat_type: \"Logo mat Klant\",\n  afdeling: \"Receptie\",\n  ligplaats: \"Receptie\",\n  aantal: 1,\n  aanwezig: false,\n  schoon_onbeschadigd: false,\n  vuilgraad_label: \"Sterk vervuild\",\n  barcode: \"0300623\",\n  opmerkingen: \"Niet aanwezig\"\n}, {\n  productnummer: \"L003\",\n  mat_type: \"Logo mat Oud (3+ jaar)\",\n  afdeling: \"Kantoor\",\n  ligplaats: \"Kantoor ingang\",\n  aantal: 1,\n  aanwezig: true,\n  schoon_onbeschadigd: true,\n  vuilgraad_label: \"Schoon\",\n  barcode: \"0300120\",\n  // januari 2020 - 4+ jaar oud\n  opmerkingen: \"Ouder dan 4 jaar - vervangen\"\n}, {\n  productnummer: \"L004\",\n  mat_type: \"Logo mat Klant 2\",\n  afdeling: \"Algemeen\",\n  ligplaats: \"Algemeen\",\n  aantal: 1,\n  aanwezig: true,\n  schoon_onbeschadigd: false,\n  vuilgraad_label: \"Licht vervuild\",\n  barcode: \"0300321\",\n  // maart 2021 - 3+ jaar oud\n  opmerkingen: \"Ligplaats aanpassen\"\n}, {\n  productnummer: \"L005\",\n  mat_type: \"Logo mat Klant 3\",\n  afdeling: \"Magazijn\",\n  ligplaats: \"Magazijn ingang\",\n  aantal: 2,\n  aanwezig: true,\n  schoon_onbeschadigd: true,\n  vuilgraad_label: \"Schoon\",\n  barcode: \"0300622\",\n  // juni 2022 - 2 jaar oud\n  opmerkingen: \"\"\n}];\n\n// Wissers data (zoals in Streamlit app)\nconst HARDCODED_WISSERS = [{\n  artikel: \"Snelwisser 50 cm\",\n  aantal_geteld: 0,\n  waarvan_gebruikt: 0\n}, {\n  artikel: \"Steel met clip snelwisser aluminium\",\n  aantal_geteld: 0,\n  waarvan_gebruikt: 0\n}, {\n  artikel: \"Opvangbak snelwisser 50 cm\",\n  aantal_geteld: 0,\n  waarvan_gebruikt: 0\n}, {\n  artikel: \"Snelwisser 40 cm\",\n  aantal_geteld: 0,\n  waarvan_gebruikt: 0\n}, {\n  artikel: \"Steel met clip snelwisser kunststof\",\n  aantal_geteld: 0,\n  waarvan_gebruikt: 0\n}, {\n  artikel: \"Opvangbak snelwisser 40 cm\",\n  aantal_geteld: 0,\n  waarvan_gebruikt: 0\n}];\n\n// Toebehoren data\nconst HARDCODED_TOEBEHOREN = [{\n  artikel: \"Rooster opvangbak 50 cm\",\n  vervangen: false,\n  aantal: 0\n}, {\n  artikel: \"Muursteun snelwisser\",\n  vervangen: false,\n  aantal: 0\n}, {\n  artikel: \"Rooster opvangbak 40 cm\",\n  vervangen: false,\n  aantal: 0\n}, {\n  artikel: \"Muursteun snelwisser kunststof\",\n  vervangen: false,\n  aantal: 0\n}, {\n  artikel: \"Clip snelwisser aluminium\",\n  vervangen: false,\n  aantal: 0\n}, {\n  artikel: \"Clip snelwisser kunststof\",\n  vervangen: false,\n  aantal: 0\n}];\n\n// Hardcoded CRM klanten data (zoals uit database)\nconst HARDCODED_CRM_KLANTEN = [{\n  relatienummer: \"K001\",\n  klantnaam: \"Multihuur BV\",\n  adres: \"Hoofdstraat 123\",\n  postcode: \"1234 AB\",\n  plaats: \"Amsterdam\",\n  telefoon: \"020-1234567\",\n  email: \"info@multihuur.nl\",\n  contactpersonen: [{\n    voornaam: \"Julian\",\n    tussenvoegsel: \"\",\n    achternaam: \"Vervoort\",\n    email: \"verhuur@multihuur.nl\",\n    telefoon: \"06-12345678\",\n    functie: \"Facility Manager\",\n    routecontact: true,\n    klantenportaal: \"julian.vervoort\",\n    nog_in_dienst: true\n  }, {\n    voornaam: \"Lisa\",\n    tussenvoegsel: \"\",\n    achternaam: \"Jansen\",\n    email: \"lisa@multihuur.nl\",\n    telefoon: \"06-87654321\",\n    functie: \"Receptie\",\n    routecontact: false,\n    klantenportaal: \"\",\n    nog_in_dienst: true\n  }]\n}, {\n  relatienummer: \"K002\",\n  klantnaam: \"TechCorp Nederland\",\n  adres: \"Innovatielaan 45\",\n  postcode: \"5678 CD\",\n  plaats: \"Utrecht\",\n  telefoon: \"030-9876543\",\n  email: \"contact@techcorp.nl\",\n  contactpersonen: [{\n    voornaam: \"Mark\",\n    tussenvoegsel: \"van der\",\n    achternaam: \"Berg\",\n    email: \"mark.berg@techcorp.nl\",\n    telefoon: \"06-11223344\",\n    functie: \"IT Manager\",\n    routecontact: true,\n    klantenportaal: \"mark.berg\",\n    nog_in_dienst: true\n  }]\n}, {\n  relatienummer: \"K003\",\n  klantnaam: \"Retail Solutions BV\",\n  adres: \"Winkelstraat 789\",\n  postcode: \"9012 EF\",\n  plaats: \"Rotterdam\",\n  telefoon: \"010-5555555\",\n  email: \"info@retailsolutions.nl\",\n  contactpersonen: [{\n    voornaam: \"Sarah\",\n    tussenvoegsel: \"de\",\n    achternaam: \"Vries\",\n    email: \"sarah.vries@retailsolutions.nl\",\n    telefoon: \"06-55667788\",\n    functie: \"Operations Manager\",\n    routecontact: true,\n    klantenportaal: \"sarah.vries\",\n    nog_in_dienst: true\n  }, {\n    voornaam: \"Peter\",\n    tussenvoegsel: \"\",\n    achternaam: \"Smit\",\n    email: \"peter.smit@retailsolutions.nl\",\n    telefoon: \"06-99887766\",\n    functie: \"Magazijn Manager\",\n    routecontact: false,\n    klantenportaal: \"\",\n    nog_in_dienst: false\n  }]\n}, {\n  relatienummer: \"K004\",\n  klantnaam: \"Healthcare Plus\",\n  adres: \"Ziekenhuisweg 321\",\n  postcode: \"3456 GH\",\n  plaats: \"Den Haag\",\n  telefoon: \"070-1111111\",\n  email: \"faciliteiten@healthcareplus.nl\",\n  contactpersonen: [{\n    voornaam: \"Dr. Anna\",\n    tussenvoegsel: \"\",\n    achternaam: \"Bakker\",\n    email: \"a.bakker@healthcareplus.nl\",\n    telefoon: \"06-33445566\",\n    functie: \"Facility Director\",\n    routecontact: true,\n    klantenportaal: \"anna.bakker\",\n    nog_in_dienst: true\n  }]\n}, {\n  relatienummer: \"K005\",\n  klantnaam: \"Logistics Pro\",\n  adres: \"Distributieweg 654\",\n  postcode: \"7890 IJ\",\n  plaats: \"Eindhoven\",\n  telefoon: \"040-2222222\",\n  email: \"logistics@logisticspro.nl\",\n  contactpersonen: [{\n    voornaam: \"Tom\",\n    tussenvoegsel: \"van\",\n    achternaam: \"Dijk\",\n    email: \"tom.dijk@logisticspro.nl\",\n    telefoon: \"06-77889900\",\n    functie: \"Warehouse Manager\",\n    routecontact: true,\n    klantenportaal: \"tom.dijk\",\n    nog_in_dienst: true\n  }]\n}];\nfunction App() {\n  _s();\n  const [activeTab, setActiveTab] = useState('inspectie');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('');\n\n  // Form state\n  const [formData, setFormData] = useState({\n    relatienummer: 'K001',\n    klantnaam: 'Multihuur BV',\n    contactpersoon: 'Julian Vervoort',\n    contact_email: 'verhuur@multihuur.nl',\n    inspecteur: 'Angelo',\n    datum: format(new Date(), 'yyyy-MM-dd'),\n    tijd: format(new Date(), 'HH:mm'),\n    algemeen_values: {}\n  });\n\n  // Klant selectie state\n  const [selectedKlant, setSelectedKlant] = useState(null);\n  const [klantSearchTerm, setKlantSearchTerm] = useState('');\n  const [showKlantDropdown, setShowKlantDropdown] = useState(false);\n\n  // Concurrenten state\n  const [mattenConcurrenten, setMattenConcurrenten] = useState({\n    andere_mat_aanwezig: 'Nee',\n    andere_mat_concurrent: '',\n    aantal_concurrent: 0,\n    aantal_koop: 0\n  });\n  const [wissersConcurrenten, setWissersConcurrenten] = useState({\n    wissers_concurrent: 'Nee',\n    wissers_concurrent_concurrent: '',\n    wissers_concurrent_toelichting: '',\n    andere_zaken: ''\n  });\n\n  // Data state\n  const [standaardMattenData, setStandaardMattenData] = useState([]);\n  const [logomattenData, setLogomattenData] = useState([]);\n  const [wissersData, setWissersData] = useState([]);\n  const [toebehorenData, setToebehorenData] = useState([]);\n  const [todoList, setTodoList] = useState([]);\n  const [klantenserviceTodoList, setKlantenserviceTodoList] = useState([]);\n  const [contactpersonen, setContactpersonen] = useState([]);\n\n  // Helper functies\n  const formatNaam = (voornaam, tussenvoegsel, achternaam) => {\n    const v = voornaam && voornaam !== 'None' ? voornaam : '';\n    const t = tussenvoegsel && tussenvoegsel !== 'None' ? tussenvoegsel : '';\n    const a = achternaam && achternaam !== 'None' ? achternaam : '';\n    return `${v} ${t} ${a}`.replace(/\\s+/g, ' ').trim();\n  };\n  const berekenLeeftijd = barcode => {\n    if (!barcode || barcode.toString().length < 7) {\n      return '-';\n    }\n    try {\n      const barcodeStr = barcode.toString().trim();\n      if (barcodeStr.length >= 7) {\n        const maandDigit = barcodeStr[4];\n        const jaarDigits = barcodeStr.slice(5, 7);\n        const maand = parseInt(maandDigit);\n        const jaar = parseInt(jaarDigits);\n        if (maand < 1 || maand > 12) {\n          return `Onbekend (maand ${maand} ongeldig)`;\n        }\n        const volledigJaar = 2000 + jaar;\n        const productieDatum = new Date(volledigJaar, maand - 1, 1);\n        const vandaag = new Date();\n        const leeftijdDagen = Math.floor((vandaag - productieDatum) / (1000 * 60 * 60 * 24));\n        const leeftijdMaanden = Math.floor(leeftijdDagen / 30);\n        if (leeftijdMaanden < 0) {\n          return 'Onbekend (toekomstige datum)';\n        }\n        if (leeftijdMaanden < 12) {\n          return `${leeftijdMaanden} maanden`;\n        } else {\n          const leeftijdJaren = Math.floor(leeftijdMaanden / 12);\n          const resterendeMaanden = leeftijdMaanden % 12;\n          if (resterendeMaanden === 0) {\n            return `${leeftijdJaren} jaar`;\n          } else {\n            return `${leeftijdJaren} jaar en ${resterendeMaanden} maanden`;\n          }\n        }\n      } else {\n        return 'Onbekend (te kort)';\n      }\n    } catch (e) {\n      return `Onbekend (fout: ${e})`;\n    }\n  };\n  const toBool = val => {\n    if (typeof val === 'boolean') return val;\n    if (typeof val === 'string') {\n      const v = val.trim().toLowerCase();\n      if (['true', 'ja', '1', 'yes'].includes(v)) return true;\n      if (['false', 'nee', '0', 'no', ''].includes(v)) return false;\n      return false;\n    }\n    if (typeof val === 'number') return val === 1;\n    return false;\n  };\n  const boolToJaNee = val => {\n    return val ? 'Ja' : 'Nee';\n  };\n  const showMessage = (text, type = 'info') => {\n    setMessage(text);\n    setMessageType(type);\n    setTimeout(() => {\n      setMessage('');\n      setMessageType('');\n    }, 5000);\n  };\n  const loadData = () => {\n    // Laad hardcoded data\n    setStandaardMattenData([...HARDCODED_STANDAARD_MATTEN]);\n    setLogomattenData([...HARDCODED_LOGOMATTEN]);\n    setWissersData([...HARDCODED_WISSERS]);\n    setToebehorenData([...HARDCODED_TOEBEHOREN]);\n\n    // Laad standaard klant contactpersonen (Multihuur BV)\n    const defaultKlant = HARDCODED_CRM_KLANTEN.find(k => k.relatienummer === 'K001');\n    if (defaultKlant) {\n      setContactpersonen(defaultKlant.contactpersonen);\n    }\n  };\n\n  // Klant selectie functies\n  const handleKlantSelect = klant => {\n    setSelectedKlant(klant);\n    setFormData(prev => {\n      var _klant$contactpersone, _klant$contactpersone2, _klant$contactpersone3, _klant$contactpersone4;\n      return {\n        ...prev,\n        relatienummer: klant.relatienummer,\n        klantnaam: klant.klantnaam,\n        contactpersoon: ((_klant$contactpersone = klant.contactpersonen.find(cp => cp.routecontact)) === null || _klant$contactpersone === void 0 ? void 0 : _klant$contactpersone.voornaam) + ' ' + (((_klant$contactpersone2 = klant.contactpersonen.find(cp => cp.routecontact)) === null || _klant$contactpersone2 === void 0 ? void 0 : _klant$contactpersone2.tussenvoegsel) || '') + ' ' + ((_klant$contactpersone3 = klant.contactpersonen.find(cp => cp.routecontact)) === null || _klant$contactpersone3 === void 0 ? void 0 : _klant$contactpersone3.achternaam) || '',\n        contact_email: ((_klant$contactpersone4 = klant.contactpersonen.find(cp => cp.routecontact)) === null || _klant$contactpersone4 === void 0 ? void 0 : _klant$contactpersone4.email) || ''\n      };\n    });\n    setContactpersonen(klant.contactpersonen);\n    setKlantSearchTerm(klant.klantnaam);\n    setShowKlantDropdown(false);\n  };\n  const filteredKlanten = HARDCODED_CRM_KLANTEN.filter(klant => klant.klantnaam.toLowerCase().includes(klantSearchTerm.toLowerCase()) || klant.relatienummer.toLowerCase().includes(klantSearchTerm.toLowerCase()));\n  const saveInspectie = async () => {\n    try {\n      setLoading(true);\n      const inspectieData = {\n        id: Date.now(),\n        relatienummer: formData.relatienummer,\n        klantnaam: formData.klantnaam,\n        contactpersoon: formData.contactpersoon,\n        contact_email: formData.contact_email,\n        inspecteur: formData.inspecteur,\n        datum: formData.datum,\n        tijd: formData.tijd,\n        standaard_matten_data: standaardMattenData,\n        logomatten_data: logomattenData,\n        wissers_data: wissersData,\n        toebehoren_data: toebehorenData,\n        matten_concurrenten: mattenConcurrenten,\n        wissers_concurrenten: wissersConcurrenten,\n        algemeen_values: formData.algemeen_values,\n        created_at: new Date().toISOString()\n      };\n      showMessage('Inspectie succesvol opgeslagen!', 'success');\n\n      // Genereer to-do's\n      generateTodosSlim();\n    } catch (error) {\n      showMessage(`Fout bij opslaan: ${error.message}`, 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Nieuwe slimme to-do logica\n  const generateTodosSlim = () => {\n    const serviceTodos = [];\n    const klantenserviceTodos = [];\n\n    // Matten (standaard en logo)\n    [...standaardMattenData, ...logomattenData].forEach(mat => {\n      var _mat$aantal;\n      const matNaam = mat.mat_type || 'Onbekend';\n      const afdeling = mat.afdeling || '';\n      const ligplaats = mat.ligplaats || '';\n      const locatie = afdeling || ligplaats ? ` (${afdeling}, ${ligplaats})` : '';\n      if (!mat.aanwezig) {\n        serviceTodos.push(`Controleer waarom mat '${matNaam}'${locatie} niet aanwezig is.`);\n      }\n      if (((_mat$aantal = mat.aantal) !== null && _mat$aantal !== void 0 ? _mat$aantal : 1) === 0) {\n        serviceTodos.push(`Controleer of mat '${matNaam}'${locatie} verwijderd moet worden.`);\n      }\n      if (mat.vuilgraad_label === 'Sterk vervuild') {\n        serviceTodos.push(`Mat '${matNaam}'${locatie} vervangen of reinigen (sterk vervuild).`);\n      }\n      if (mat.schoon_onbeschadigd === false) {\n        serviceTodos.push(`Mat '${matNaam}'${locatie} inspecteren op schade.`);\n      }\n      if ((mat.opmerkingen || '').trim()) {\n        serviceTodos.push(`Controleer opmerking bij mat '${matNaam}'${locatie}: ${mat.opmerkingen}`);\n      }\n      if (afdeling === 'Algemeen' && ligplaats === 'Algemeen') {\n        serviceTodos.push(`Ligplaats controleren en aanpassen in TMS voor mat ${matNaam} (nu: Algemeen/Algemeen).`);\n      }\n      // Jaarcheck logomatten: alleen voor logomatten\n      if (mat.barcode && matNaam.toLowerCase().includes('logo')) {\n        const leeftijdStr = berekenLeeftijd(mat.barcode);\n        const match = leeftijdStr.match(/(\\d+) jaar/);\n        if (match && parseInt(match[1]) >= 3) {\n          serviceTodos.push(`Controleer logomat '${matNaam}' (ouder dan 3 jaar)`);\n          klantenserviceTodos.push(`Logomat ouder dan 3 jaar bij klant '${matNaam}': plan nieuwe logomat, check of logo gelijk is gebleven, geef aan dat je een nieuwe gaat bestellen.`);\n          if (parseInt(match[1]) >= 4) {\n            var _mat$representativite;\n            const repScore = (_mat$representativite = mat.representativiteitsscore) !== null && _mat$representativite !== void 0 ? _mat$representativite : 100;\n            if (repScore < 70) {\n              serviceTodos.push(`Logomat '${matNaam}'${locatie} moet vervangen worden: ouder dan 4 jaar en representativiteitsscore te laag.`);\n            }\n          }\n        }\n      }\n    });\n\n    // Wissers\n    wissersData.forEach(wisser => {\n      var _wisser$aantal_geteld;\n      const wisserType = wisser.artikel || 'Onbekend';\n      if (((_wisser$aantal_geteld = wisser.aantal_geteld) !== null && _wisser$aantal_geteld !== void 0 ? _wisser$aantal_geteld : 0) === 0) {\n        serviceTodos.push(`Controleer of wisser van type '${wisserType}' verwijderd moet worden.`);\n      }\n      if ((wisser.opmerkingen || '').trim()) {\n        serviceTodos.push(`Controleer opmerking bij wisser van type '${wisserType}': ${wisser.opmerkingen}`);\n      }\n      // Upsell kans bij hoog verbruik (optioneel, als vuil percentage beschikbaar is)\n      if (wisser.vuil_percentage !== undefined && wisser.vuil_percentage !== null) {\n        const perc = parseFloat(wisser.vuil_percentage);\n        if (!isNaN(perc) && perc > 70) {\n          serviceTodos.push(`Upsell kans: ${wisserType} heeft hoog verbruik (${perc}% vuil). Overweeg extra wissers aan te bieden.`);\n        }\n      }\n    });\n\n    // Toebehoren\n    toebehorenData.forEach(acc => {\n      var _acc$aantal;\n      const accType = acc.artikel || 'Onbekend';\n      const aantal = (_acc$aantal = acc.aantal) !== null && _acc$aantal !== void 0 ? _acc$aantal : 0;\n      if (acc.vervangen && aantal > 0) {\n        serviceTodos.push(`Vervang ${aantal}x '${accType}' bij wissers.`);\n      }\n      if ((acc.opmerkingen || '').trim()) {\n        serviceTodos.push(`Controleer opmerking bij toebehoren '${accType}': ${acc.opmerkingen}`);\n      }\n    });\n    setTodoList(serviceTodos.map(text => ({\n      text,\n      done: false\n    })));\n    setKlantenserviceTodoList(klantenserviceTodos.map(text => ({\n      text,\n      done: false\n    })));\n  };\n  const sendToTMS = async () => {\n    try {\n      setLoading(true);\n      const inspectieData = {\n        relatienummer: formData.relatienummer,\n        klantnaam: formData.klantnaam,\n        contactpersoon: formData.contactpersoon,\n        contact_email: formData.contact_email,\n        inspecteur: formData.inspecteur,\n        datum: formData.datum,\n        tijd: formData.tijd,\n        standaard_matten_data: standaardMattenData,\n        logomatten_data: logomattenData,\n        wissers_data: wissersData,\n        toebehoren_data: toebehorenData,\n        matten_concurrenten: mattenConcurrenten,\n        wissers_concurrenten: wissersConcurrenten,\n        algemeen_values: formData.algemeen_values,\n        todo_list: todoList,\n        klantenservice_todo_list: klantenserviceTodoList,\n        created_at: new Date().toISOString()\n      };\n\n      // Simuleer API call naar TMS\n      const response = await fetch('/api/tms/inspectie', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(inspectieData)\n      });\n      if (response.ok) {\n        showMessage('Inspectie succesvol naar TMS gestuurd!', 'success');\n      } else {\n        throw new Error('TMS API error');\n      }\n    } catch (error) {\n      // Fallback: simuleer succesvolle verzending\n      showMessage('Inspectie succesvol naar TMS gestuurd! (Simulatie)', 'success');\n      console.log('TMS Data:', {\n        relatienummer: formData.relatienummer,\n        klantnaam: formData.klantnaam,\n        inspecteur: formData.inspecteur,\n        datum: formData.datum,\n        matten: standaardMattenData.length + logomattenData.length,\n        wissers: wissersData.length,\n        todos: todoList.length\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const generateExportRapport = () => {\n    const pdf = new jsPDF('p', 'mm', 'a4');\n    const pageWidth = 210;\n    const margin = 20;\n    let yPosition = 20;\n\n    // Lavans kleuren\n    const lavansBlue = [0, 51, 102]; // #003366\n    const lavansLightBlue = [230, 240, 250]; // #E6F0FA\n    const lavansGreen = [0, 128, 64]; // #008040\n\n    // Helper function to add text with line breaks - compact voor 1 A4\n    const addText = (text, fontSize = 10, isBold = false, color = [0, 0, 0]) => {\n      pdf.setFontSize(fontSize);\n      if (isBold) {\n        pdf.setFont('helvetica', 'bold');\n      } else {\n        pdf.setFont('helvetica', 'normal');\n      }\n      pdf.setTextColor(color[0], color[1], color[2]);\n      const lines = pdf.splitTextToSize(text, pageWidth - 2 * margin);\n      lines.forEach(line => {\n        pdf.text(line, margin, yPosition);\n        yPosition += 4; // Compactere regelafstand\n      });\n      yPosition += 1;\n    };\n\n    // Helper function to add colored box\n    const addColoredBox = (text, fontSize = 12, isBold = true, bgColor = lavansBlue) => {\n      if (yPosition > 280) {\n        pdf.addPage();\n        yPosition = 20;\n      }\n\n      // Colored background\n      pdf.setFillColor(bgColor[0], bgColor[1], bgColor[2]);\n      pdf.rect(margin - 2, yPosition - 4, pageWidth - 2 * margin + 4, 10, 'F');\n\n      // White text\n      pdf.setFontSize(fontSize);\n      if (isBold) {\n        pdf.setFont('helvetica', 'bold');\n      } else {\n        pdf.setFont('helvetica', 'normal');\n      }\n      pdf.setTextColor(255, 255, 255);\n      pdf.text(text, margin, yPosition + 2);\n      yPosition += 12;\n    };\n\n    // Header met logo plaats\n    pdf.setFillColor(lavansLightBlue[0], lavansLightBlue[1], lavansLightBlue[2]);\n    pdf.rect(0, 0, pageWidth, 40, 'F');\n\n    // Logo placeholder (tekst voor nu)\n    pdf.setFontSize(20);\n    pdf.setFont('helvetica', 'bold');\n    pdf.setTextColor(lavansBlue[0], lavansBlue[1], lavansBlue[2]);\n    pdf.text('LAVANS', 20, 15);\n    pdf.setFontSize(14);\n    pdf.setFont('helvetica', 'normal');\n    pdf.text('Service Inspectie Rapport', 20, 22);\n    pdf.setFontSize(10);\n    pdf.setTextColor(100, 100, 100);\n    pdf.text(`Gegenereerd op: ${format(new Date(), 'dd-MM-yyyy HH:mm')}`, 20, 30);\n    yPosition = 50;\n\n    // Klant informatie\n    addColoredBox('KLANT INFORMATIE', 14, true);\n    addText(`Klantnaam: ${formData.klantnaam}`, 12, true);\n    addText(`Relatienummer: ${formData.relatienummer}`, 12);\n    addText(`Contactpersoon: ${formData.contactpersoon}`, 12);\n    addText(`Inspecteur: ${formData.inspecteur}`, 12);\n    addText(`Datum inspectie: ${formData.datum}`, 12);\n    addText(`Tijd inspectie: ${formData.tijd}`, 12);\n    addText('', 12);\n\n    // Samenvatting bevindingen\n    addColoredBox('SAMENVATTING BEVINDINGEN', 14, true);\n\n    // Tel bevindingen\n    let totalIssues = 0;\n    let criticalIssues = 0;\n    let mattenIssues = 0;\n    let wissersIssues = 0;\n\n    // Tel alle bevindingen\n    [...standaardMattenData, ...logomattenData].forEach(mat => {\n      if (!mat.aanwezig) {\n        mattenIssues++;\n        totalIssues++;\n        criticalIssues++;\n      }\n      if (mat.vuilgraad_label === 'Sterk vervuild') {\n        mattenIssues++;\n        totalIssues++;\n        criticalIssues++;\n      }\n      if (mat.schoon_onbeschadigd === false) {\n        mattenIssues++;\n        totalIssues++;\n      }\n      if (mat.opmerkingen && mat.opmerkingen.trim()) {\n        mattenIssues++;\n        totalIssues++;\n      }\n    });\n    wissersData.forEach(wisser => {\n      if (wisser.aantal_geteld === 0) {\n        wissersIssues++;\n        totalIssues++;\n      }\n    });\n\n    // Status bepaling\n    let status = 'GOED';\n    let statusColor = lavansGreen;\n    if (criticalIssues > 0) {\n      status = 'ATTENTIE NODIG';\n      statusColor = [255, 140, 0]; // Oranje\n    } else if (totalIssues > 5) {\n      status = 'CONTROLE AANBEVOLEN';\n      statusColor = [255, 193, 7]; // Geel\n    }\n    addText(`Status: ${status}`, 14, true, statusColor);\n    addText(`Totaal bevindingen: ${totalIssues}`, 12);\n    addText(`Kritieke issues: ${criticalIssues}`, 12);\n    addText(`Matten issues: ${mattenIssues}`, 12);\n    addText(`Wissers issues: ${wissersIssues}`, 12);\n    addText('', 12);\n\n    // Detail bevindingen\n    addColoredBox('DETAILBEVINDINGEN', 14, true);\n\n    // Matten\n    const mattenBevindingen = [];\n    [...standaardMattenData, ...logomattenData].forEach(mat => {\n      if (!mat.aanwezig) {\n        mattenBevindingen.push(`• Mat '${mat.mat_type}' niet aanwezig op locatie ${mat.afdeling}, ${mat.ligplaats}`);\n      }\n      if (mat.vuilgraad_label === 'Sterk vervuild') {\n        mattenBevindingen.push(`• Mat '${mat.mat_type}' sterk vervuild - vervanging of reiniging nodig`);\n      }\n      if (mat.schoon_onbeschadigd === false) {\n        mattenBevindingen.push(`• Mat '${mat.mat_type}' heeft schade - inspectie vereist`);\n      }\n      if (mat.opmerkingen && mat.opmerkingen.trim()) {\n        mattenBevindingen.push(`• Mat '${mat.mat_type}': ${mat.opmerkingen}`);\n      }\n    });\n    if (mattenBevindingen.length > 0) {\n      addText('MATTEN:', 12, true, lavansBlue);\n      mattenBevindingen.forEach(bevinding => addText(bevinding, 10));\n      addText('', 12);\n    }\n\n    // Wissers\n    const wissersBevindingen = [];\n    wissersData.forEach(wisser => {\n      if (wisser.aantal_geteld === 0) {\n        wissersBevindingen.push(`• Geen wissers van type '${wisser.artikel}' aanwezig`);\n      }\n    });\n    if (wissersBevindingen.length > 0) {\n      addText('WISSERS:', 12, true, lavansBlue);\n      wissersBevindingen.forEach(bevinding => addText(bevinding, 10));\n      addText('', 12);\n    }\n\n    // Actiepunten\n    addColoredBox('ACTIEPUNTEN', 14, true);\n    if (todoList.length > 0) {\n      addText('VOOR LAVANS SERVICE:', 12, true, lavansBlue);\n      todoList.forEach(todo => {\n        if (!todo.done) {\n          addText(`• ${todo.text}`, 10);\n        }\n      });\n      addText('', 12);\n    }\n\n    // Klant feedback\n    if (formData.algemeen_values.klant_feedback && formData.algemeen_values.klant_feedback.trim()) {\n      addColoredBox('KLANT FEEDBACK', 14, true);\n      addText(formData.algemeen_values.klant_feedback, 12);\n      addText('', 12);\n    }\n\n    // Volgende stappen\n    addColoredBox('VOLGENDE STAPPEN', 14, true);\n    addText('• Lavans neemt alle bevindingen in behandeling', 10);\n    addText('• Kritieke issues worden binnen 24 uur opgevolgd', 10);\n    addText('• Overige bevindingen worden in de volgende service ronde aangepakt', 10);\n    addText('• Voor vragen kunt u contact opnemen met uw accountmanager', 10);\n    addText('', 12);\n\n    // Footer met styling\n    if (yPosition > 260) {\n      pdf.addPage();\n      yPosition = 20;\n    }\n\n    // Footer achtergrond\n    pdf.setFillColor(lavansLightBlue[0], lavansLightBlue[1], lavansLightBlue[2]);\n    pdf.rect(0, yPosition - 10, pageWidth, 297 - yPosition + 10, 'F');\n\n    // Footer tekst\n    addText('Dit rapport is automatisch gegenereerd door Lavans Service', 8, false, lavansBlue);\n    addText('Voor vragen over dit rapport kunt u contact opnemen met uw accountmanager', 8, false, lavansBlue);\n    addText(`Rapport gegenereerd op: ${format(new Date(), 'dd-MM-yyyy HH:mm')}`, 8, false, lavansBlue);\n\n    // Save PDF\n    const fileName = `lavans_inspectie_${formData.relatienummer}_${format(new Date(), 'yyyyMMdd')}.pdf`;\n    pdf.save(fileName);\n    showMessage('Klantrapport succesvol gegenereerd!', 'success');\n  };\n  const updateStandaardMatData = (index, field, value) => {\n    const newData = [...standaardMattenData];\n    newData[index] = {\n      ...newData[index],\n      [field]: value\n    };\n    setStandaardMattenData(newData);\n  };\n  const updateLogomatData = (index, field, value) => {\n    const newData = [...logomattenData];\n    newData[index] = {\n      ...newData[index],\n      [field]: value\n    };\n    setLogomattenData(newData);\n  };\n  const updateWisserData = (index, field, value) => {\n    const newData = [...wissersData];\n    newData[index] = {\n      ...newData[index],\n      [field]: value\n    };\n    setWissersData(newData);\n  };\n  const updateToebehorenData = (index, field, value) => {\n    const newData = [...toebehorenData];\n    newData[index] = {\n      ...newData[index],\n      [field]: value\n    };\n    setToebehorenData(newData);\n  };\n  const updateContactpersoon = (index, field, value) => {\n    const newData = [...contactpersonen];\n    newData[index] = {\n      ...newData[index],\n      [field]: value\n    };\n    setContactpersonen(newData);\n  };\n  const updateAlgemeenValue = (key, value) => {\n    setFormData(prev => ({\n      ...prev,\n      algemeen_values: {\n        ...prev.algemeen_values,\n        [key]: value\n      }\n    }));\n  };\n  const addContactpersoon = () => {\n    setContactpersonen([...contactpersonen, {\n      voornaam: '',\n      tussenvoegsel: '',\n      achternaam: '',\n      email: '',\n      telefoon: '',\n      klantenportaal: '',\n      nog_in_dienst: true,\n      routecontact: false\n    }]);\n  };\n  const removeContactpersoon = index => {\n    const newData = [...contactpersonen];\n    newData.splice(index, 1);\n    setContactpersonen(newData);\n  };\n  const saveContactWijzigingen = () => {\n    const nieuweTodos = [];\n    contactpersonen.forEach(contact => {\n      const naam = formatNaam(contact.voornaam, contact.tussenvoegsel, contact.achternaam);\n\n      // Check voor nieuwe contactpersonen\n      if (contact.nog_in_dienst && !contact.email) {\n        nieuweTodos.push(`Nieuwe contactpersoon toevoegen: ${naam}`);\n      }\n\n      // Check voor klantportaal uitnodiging\n      if (contact.nog_in_dienst && !contact.klantenportaal) {\n        nieuweTodos.push(`Uitnodigen klantportaal voor ${contact.email}`);\n      }\n\n      // Check voor niet meer in dienst\n      if (!contact.nog_in_dienst) {\n        nieuweTodos.push(`Contactpersoon ${naam} (${contact.email}) is niet meer in dienst. Controleer en update CRM.`);\n      }\n    });\n    setKlantenserviceTodoList(nieuweTodos.map(text => ({\n      text,\n      done: false\n    })));\n    showMessage('Wijzigingen gelogd en to-do\\'s voor klantenservice toegevoegd!', 'success');\n  };\n  useEffect(() => {\n    loadData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/Logo-Lavans-png.png\",\n        alt: \"Lavans logo\",\n        className: \"header-logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 997,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Lavans Service App\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1002,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ideaal Servicemoment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1003,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 996,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `alert alert-${messageType}`,\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1008,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tabs-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab ${activeTab === 'inspectie' ? 'active' : ''}`,\n            onClick: () => setActiveTab('inspectie'),\n            children: \"Inspectie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1015,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab ${activeTab === 'todos' ? 'active' : ''}`,\n            onClick: () => setActiveTab('todos'),\n            children: \"To-Do's\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1021,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab ${activeTab === 'contactpersonen' ? 'active' : ''}`,\n            onClick: () => setActiveTab('contactpersonen'),\n            children: \"Contactpersonen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1027,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1014,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1013,\n        columnNumber: 9\n      }, this), activeTab === 'inspectie' && /*#__PURE__*/_jsxDEV(InspectieTab, {\n        formData: formData,\n        setFormData: setFormData,\n        mattenConcurrenten: mattenConcurrenten,\n        setMattenConcurrenten: setMattenConcurrenten,\n        wissersConcurrenten: wissersConcurrenten,\n        setWissersConcurrenten: setWissersConcurrenten,\n        standaardMattenData: standaardMattenData,\n        setStandaardMattenData: setStandaardMattenData,\n        logomattenData: logomattenData,\n        setLogomattenData: setLogomattenData,\n        wissersData: wissersData,\n        setWissersData: setWissersData,\n        toebehorenData: toebehorenData,\n        setToebehorenData: setToebehorenData,\n        updateStandaardMatData: updateStandaardMatData,\n        updateLogomatData: updateLogomatData,\n        updateWisserData: updateWisserData,\n        updateToebehorenData: updateToebehorenData,\n        updateAlgemeenValue: updateAlgemeenValue,\n        berekenLeeftijd: berekenLeeftijd,\n        toBool: toBool,\n        boolToJaNee: boolToJaNee,\n        saveInspectie: saveInspectie,\n        sendToTMS: sendToTMS,\n        generateExportRapport: generateExportRapport,\n        loading: loading\n        // Klant selectie props\n        ,\n        selectedKlant: selectedKlant,\n        klantSearchTerm: klantSearchTerm,\n        setKlantSearchTerm: setKlantSearchTerm,\n        showKlantDropdown: showKlantDropdown,\n        setShowKlantDropdown: setShowKlantDropdown,\n        filteredKlanten: filteredKlanten,\n        handleKlantSelect: handleKlantSelect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1037,\n        columnNumber: 11\n      }, this), activeTab === 'todos' && /*#__PURE__*/_jsxDEV(TodoTab, {\n        todoList: todoList,\n        setTodoList: setTodoList,\n        klantenserviceTodoList: klantenserviceTodoList,\n        setKlantenserviceTodoList: setKlantenserviceTodoList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1075,\n        columnNumber: 11\n      }, this), activeTab === 'contactpersonen' && /*#__PURE__*/_jsxDEV(ContactpersonenTab, {\n        contactpersonen: contactpersonen,\n        setContactpersonen: setContactpersonen,\n        addContactpersoon: addContactpersoon,\n        removeContactpersoon: removeContactpersoon,\n        updateContactpersoon: updateContactpersoon,\n        saveContactWijzigingen: saveContactWijzigingen,\n        formatNaam: formatNaam\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1083,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1006,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 995,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"wutCobpHQ+3bv3D9e/BOP6OpMP4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","format","jsPDF","InspectieTab","TodoTab","ContactpersonenTab","jsxDEV","_jsxDEV","HARDCODED_STANDAARD_MATTEN","productnummer","mat_type","afdeling","ligplaats","aantal","aanwezig","schoon_onbeschadigd","vuilgraad_label","barcode","opmerkingen","HARDCODED_LOGOMATTEN","HARDCODED_WISSERS","artikel","aantal_geteld","waarvan_gebruikt","HARDCODED_TOEBEHOREN","vervangen","HARDCODED_CRM_KLANTEN","relatienummer","klantnaam","adres","postcode","plaats","telefoon","email","contactpersonen","voornaam","tussenvoegsel","achternaam","functie","routecontact","klantenportaal","nog_in_dienst","App","_s","activeTab","setActiveTab","loading","setLoading","message","setMessage","messageType","setMessageType","formData","setFormData","contactpersoon","contact_email","inspecteur","datum","Date","tijd","algemeen_values","selectedKlant","setSelectedKlant","klantSearchTerm","setKlantSearchTerm","showKlantDropdown","setShowKlantDropdown","mattenConcurrenten","setMattenConcurrenten","andere_mat_aanwezig","andere_mat_concurrent","aantal_concurrent","aantal_koop","wissersConcurrenten","setWissersConcurrenten","wissers_concurrent","wissers_concurrent_concurrent","wissers_concurrent_toelichting","andere_zaken","standaardMattenData","setStandaardMattenData","logomattenData","setLogomattenData","wissersData","setWissersData","toebehorenData","setToebehorenData","todoList","setTodoList","klantenserviceTodoList","setKlantenserviceTodoList","setContactpersonen","formatNaam","v","t","a","replace","trim","berekenLeeftijd","toString","length","barcodeStr","maandDigit","jaarDigits","slice","maand","parseInt","jaar","volledigJaar","productieDatum","vandaag","leeftijdDagen","Math","floor","leeftijdMaanden","leeftijdJaren","resterendeMaanden","e","toBool","val","toLowerCase","includes","boolToJaNee","showMessage","text","type","setTimeout","loadData","defaultKlant","find","k","handleKlantSelect","klant","prev","_klant$contactpersone","_klant$contactpersone2","_klant$contactpersone3","_klant$contactpersone4","cp","filteredKlanten","filter","saveInspectie","inspectieData","id","now","standaard_matten_data","logomatten_data","wissers_data","toebehoren_data","matten_concurrenten","wissers_concurrenten","created_at","toISOString","generateTodosSlim","error","serviceTodos","klantenserviceTodos","forEach","mat","_mat$aantal","matNaam","locatie","push","leeftijdStr","match","_mat$representativite","repScore","representativiteitsscore","wisser","_wisser$aantal_geteld","wisserType","vuil_percentage","undefined","perc","parseFloat","isNaN","acc","_acc$aantal","accType","map","done","sendToTMS","todo_list","klantenservice_todo_list","response","fetch","method","headers","body","JSON","stringify","ok","Error","console","log","matten","wissers","todos","generateExportRapport","pdf","pageWidth","margin","yPosition","lavansBlue","lavansLightBlue","lavansGreen","addText","fontSize","isBold","color","setFontSize","setFont","setTextColor","lines","splitTextToSize","line","addColoredBox","bgColor","addPage","setFillColor","rect","totalIssues","criticalIssues","mattenIssues","wissersIssues","status","statusColor","mattenBevindingen","bevinding","wissersBevindingen","todo","klant_feedback","fileName","save","updateStandaardMatData","index","field","value","newData","updateLogomatData","updateWisserData","updateToebehorenData","updateContactpersoon","updateAlgemeenValue","key","addContactpersoon","removeContactpersoon","splice","saveContactWijzigingen","nieuweTodos","contact","naam","className","children","src","alt","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/michielheerkens/Desktop/Hoi/ServiceMedewerkers/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\nimport jsPDF from 'jspdf';\nimport './App.css';\nimport InspectieTab from './InspectieTab';\nimport TodoTab from './TodoTab';\nimport ContactpersonenTab from './ContactpersonenTab';\n\n// Hardcoded data - Standaard matten (productnummer start met 00M)\nconst HARDCODED_STANDAARD_MATTEN = [\n  {\n    productnummer: \"00M001\",\n    mat_type: \"Standaard mat 60x90\",\n    afdeling: \"Ingang\",\n    ligplaats: \"Hoofdingang\",\n    aantal: 2,\n    aanwezig: true,\n    schoon_onbeschadigd: true,\n    vuilgraad_label: \"Schoon\",\n    barcode: \"\",\n    opmerkingen: \"\"\n  },\n  {\n    productnummer: \"00M002\", \n    mat_type: \"Standaard mat 90x120\",\n    afdeling: \"Kantoor\",\n    ligplaats: \"Receptie\",\n    aantal: 1,\n    aanwezig: true,\n    schoon_onbeschadigd: false,\n    vuilgraad_label: \"Licht vervuild\",\n    barcode: \"\",\n    opmerkingen: \"Vervangen nodig\"\n  },\n  {\n    productnummer: \"00M003\",\n    mat_type: \"Standaard mat 120x180\",\n    afdeling: \"Magazijn\",\n    ligplaats: \"Ingang magazijn\",\n    aantal: 3,\n    aanwezig: false,\n    schoon_onbeschadigd: false,\n    vuilgraad_label: \"Sterk vervuild\",\n    barcode: \"\",\n    opmerkingen: \"Niet aanwezig - controleren\"\n  },\n  {\n    productnummer: \"00M004\",\n    mat_type: \"Standaard mat 60x90\",\n    afdeling: \"Algemeen\",\n    ligplaats: \"Algemeen\",\n    aantal: 1,\n    aanwezig: true,\n    schoon_onbeschadigd: true,\n    vuilgraad_label: \"Schoon\",\n    barcode: \"\",\n    opmerkingen: \"Ligplaats aanpassen in TMS\"\n  },\n  {\n    productnummer: \"00M005\",\n    mat_type: \"Standaard mat 90x120\",\n    afdeling: \"Kantine\",\n    ligplaats: \"Ingang kantine\",\n    aantal: 2,\n    aanwezig: true,\n    schoon_onbeschadigd: false,\n    vuilgraad_label: \"Licht vervuild\",\n    barcode: \"\",\n    opmerkingen: \"Reinigen nodig\"\n  }\n];\n\n// Logomatten (productnummer start met L)\nconst HARDCODED_LOGOMATTEN = [\n  {\n    productnummer: \"L001\",\n    mat_type: \"Logo mat Lavans\",\n    afdeling: \"Ingang\",\n    ligplaats: \"Hoofdingang\",\n    aantal: 1,\n    aanwezig: true,\n    schoon_onbeschadigd: true,\n    vuilgraad_label: \"Schoon\",\n    barcode: \"0300522\",\n    opmerkingen: \"\"\n  },\n  {\n    productnummer: \"L002\",\n    mat_type: \"Logo mat Klant\",\n    afdeling: \"Receptie\",\n    ligplaats: \"Receptie\",\n    aantal: 1,\n    aanwezig: false,\n    schoon_onbeschadigd: false,\n    vuilgraad_label: \"Sterk vervuild\",\n    barcode: \"0300623\",\n    opmerkingen: \"Niet aanwezig\"\n  },\n  {\n    productnummer: \"L003\",\n    mat_type: \"Logo mat Oud (3+ jaar)\",\n    afdeling: \"Kantoor\",\n    ligplaats: \"Kantoor ingang\",\n    aantal: 1,\n    aanwezig: true,\n    schoon_onbeschadigd: true,\n    vuilgraad_label: \"Schoon\",\n    barcode: \"0300120\", // januari 2020 - 4+ jaar oud\n    opmerkingen: \"Ouder dan 4 jaar - vervangen\"\n  },\n  {\n    productnummer: \"L004\",\n    mat_type: \"Logo mat Klant 2\",\n    afdeling: \"Algemeen\",\n    ligplaats: \"Algemeen\",\n    aantal: 1,\n    aanwezig: true,\n    schoon_onbeschadigd: false,\n    vuilgraad_label: \"Licht vervuild\",\n    barcode: \"0300321\", // maart 2021 - 3+ jaar oud\n    opmerkingen: \"Ligplaats aanpassen\"\n  },\n  {\n    productnummer: \"L005\",\n    mat_type: \"Logo mat Klant 3\",\n    afdeling: \"Magazijn\",\n    ligplaats: \"Magazijn ingang\",\n    aantal: 2,\n    aanwezig: true,\n    schoon_onbeschadigd: true,\n    vuilgraad_label: \"Schoon\",\n    barcode: \"0300622\", // juni 2022 - 2 jaar oud\n    opmerkingen: \"\"\n  }\n];\n\n// Wissers data (zoals in Streamlit app)\nconst HARDCODED_WISSERS = [\n  {\n    artikel: \"Snelwisser 50 cm\",\n    aantal_geteld: 0,\n    waarvan_gebruikt: 0\n  },\n  {\n    artikel: \"Steel met clip snelwisser aluminium\",\n    aantal_geteld: 0,\n    waarvan_gebruikt: 0\n  },\n  {\n    artikel: \"Opvangbak snelwisser 50 cm\",\n    aantal_geteld: 0,\n    waarvan_gebruikt: 0\n  },\n  {\n    artikel: \"Snelwisser 40 cm\",\n    aantal_geteld: 0,\n    waarvan_gebruikt: 0\n  },\n  {\n    artikel: \"Steel met clip snelwisser kunststof\",\n    aantal_geteld: 0,\n    waarvan_gebruikt: 0\n  },\n  {\n    artikel: \"Opvangbak snelwisser 40 cm\",\n    aantal_geteld: 0,\n    waarvan_gebruikt: 0\n  }\n];\n\n// Toebehoren data\nconst HARDCODED_TOEBEHOREN = [\n  {\n    artikel: \"Rooster opvangbak 50 cm\",\n    vervangen: false,\n    aantal: 0\n  },\n  {\n    artikel: \"Muursteun snelwisser\",\n    vervangen: false,\n    aantal: 0\n  },\n  {\n    artikel: \"Rooster opvangbak 40 cm\",\n    vervangen: false,\n    aantal: 0\n  },\n  {\n    artikel: \"Muursteun snelwisser kunststof\",\n    vervangen: false,\n    aantal: 0\n  },\n  {\n    artikel: \"Clip snelwisser aluminium\",\n    vervangen: false,\n    aantal: 0\n  },\n  {\n    artikel: \"Clip snelwisser kunststof\",\n    vervangen: false,\n    aantal: 0\n  }\n];\n\n// Hardcoded CRM klanten data (zoals uit database)\nconst HARDCODED_CRM_KLANTEN = [\n  {\n    relatienummer: \"K001\",\n    klantnaam: \"Multihuur BV\",\n    adres: \"Hoofdstraat 123\",\n    postcode: \"1234 AB\",\n    plaats: \"Amsterdam\",\n    telefoon: \"020-1234567\",\n    email: \"info@multihuur.nl\",\n    contactpersonen: [\n      {\n        voornaam: \"Julian\",\n        tussenvoegsel: \"\",\n        achternaam: \"Vervoort\",\n        email: \"verhuur@multihuur.nl\",\n        telefoon: \"06-12345678\",\n        functie: \"Facility Manager\",\n        routecontact: true,\n        klantenportaal: \"julian.vervoort\",\n        nog_in_dienst: true\n      },\n      {\n        voornaam: \"Lisa\",\n        tussenvoegsel: \"\",\n        achternaam: \"Jansen\",\n        email: \"lisa@multihuur.nl\",\n        telefoon: \"06-87654321\",\n        functie: \"Receptie\",\n        routecontact: false,\n        klantenportaal: \"\",\n        nog_in_dienst: true\n      }\n    ]\n  },\n  {\n    relatienummer: \"K002\",\n    klantnaam: \"TechCorp Nederland\",\n    adres: \"Innovatielaan 45\",\n    postcode: \"5678 CD\",\n    plaats: \"Utrecht\",\n    telefoon: \"030-9876543\",\n    email: \"contact@techcorp.nl\",\n    contactpersonen: [\n      {\n        voornaam: \"Mark\",\n        tussenvoegsel: \"van der\",\n        achternaam: \"Berg\",\n        email: \"mark.berg@techcorp.nl\",\n        telefoon: \"06-11223344\",\n        functie: \"IT Manager\",\n        routecontact: true,\n        klantenportaal: \"mark.berg\",\n        nog_in_dienst: true\n      }\n    ]\n  },\n  {\n    relatienummer: \"K003\",\n    klantnaam: \"Retail Solutions BV\",\n    adres: \"Winkelstraat 789\",\n    postcode: \"9012 EF\",\n    plaats: \"Rotterdam\",\n    telefoon: \"010-5555555\",\n    email: \"info@retailsolutions.nl\",\n    contactpersonen: [\n      {\n        voornaam: \"Sarah\",\n        tussenvoegsel: \"de\",\n        achternaam: \"Vries\",\n        email: \"sarah.vries@retailsolutions.nl\",\n        telefoon: \"06-55667788\",\n        functie: \"Operations Manager\",\n        routecontact: true,\n        klantenportaal: \"sarah.vries\",\n        nog_in_dienst: true\n      },\n      {\n        voornaam: \"Peter\",\n        tussenvoegsel: \"\",\n        achternaam: \"Smit\",\n        email: \"peter.smit@retailsolutions.nl\",\n        telefoon: \"06-99887766\",\n        functie: \"Magazijn Manager\",\n        routecontact: false,\n        klantenportaal: \"\",\n        nog_in_dienst: false\n      }\n    ]\n  },\n  {\n    relatienummer: \"K004\",\n    klantnaam: \"Healthcare Plus\",\n    adres: \"Ziekenhuisweg 321\",\n    postcode: \"3456 GH\",\n    plaats: \"Den Haag\",\n    telefoon: \"070-1111111\",\n    email: \"faciliteiten@healthcareplus.nl\",\n    contactpersonen: [\n      {\n        voornaam: \"Dr. Anna\",\n        tussenvoegsel: \"\",\n        achternaam: \"Bakker\",\n        email: \"a.bakker@healthcareplus.nl\",\n        telefoon: \"06-33445566\",\n        functie: \"Facility Director\",\n        routecontact: true,\n        klantenportaal: \"anna.bakker\",\n        nog_in_dienst: true\n      }\n    ]\n  },\n  {\n    relatienummer: \"K005\",\n    klantnaam: \"Logistics Pro\",\n    adres: \"Distributieweg 654\",\n    postcode: \"7890 IJ\",\n    plaats: \"Eindhoven\",\n    telefoon: \"040-2222222\",\n    email: \"logistics@logisticspro.nl\",\n    contactpersonen: [\n      {\n        voornaam: \"Tom\",\n        tussenvoegsel: \"van\",\n        achternaam: \"Dijk\",\n        email: \"tom.dijk@logisticspro.nl\",\n        telefoon: \"06-77889900\",\n        functie: \"Warehouse Manager\",\n        routecontact: true,\n        klantenportaal: \"tom.dijk\",\n        nog_in_dienst: true\n      }\n    ]\n  }\n];\n\n\nfunction App() {\n  const [activeTab, setActiveTab] = useState('inspectie');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('');\n\n  // Form state\n  const [formData, setFormData] = useState({\n    relatienummer: 'K001',\n    klantnaam: 'Multihuur BV',\n    contactpersoon: 'Julian Vervoort',\n    contact_email: 'verhuur@multihuur.nl',\n    inspecteur: 'Angelo',\n    datum: format(new Date(), 'yyyy-MM-dd'),\n    tijd: format(new Date(), 'HH:mm'),\n    algemeen_values: {}\n  });\n\n  // Klant selectie state\n  const [selectedKlant, setSelectedKlant] = useState(null);\n  const [klantSearchTerm, setKlantSearchTerm] = useState('');\n  const [showKlantDropdown, setShowKlantDropdown] = useState(false);\n\n  // Concurrenten state\n  const [mattenConcurrenten, setMattenConcurrenten] = useState({\n    andere_mat_aanwezig: 'Nee',\n    andere_mat_concurrent: '',\n    aantal_concurrent: 0,\n    aantal_koop: 0\n  });\n\n  const [wissersConcurrenten, setWissersConcurrenten] = useState({\n    wissers_concurrent: 'Nee',\n    wissers_concurrent_concurrent: '',\n    wissers_concurrent_toelichting: '',\n    andere_zaken: ''\n  });\n\n  // Data state\n  const [standaardMattenData, setStandaardMattenData] = useState([]);\n  const [logomattenData, setLogomattenData] = useState([]);\n  const [wissersData, setWissersData] = useState([]);\n  const [toebehorenData, setToebehorenData] = useState([]);\n  const [todoList, setTodoList] = useState([]);\n  const [klantenserviceTodoList, setKlantenserviceTodoList] = useState([]);\n  const [contactpersonen, setContactpersonen] = useState([]);\n\n  // Helper functies\n  const formatNaam = (voornaam, tussenvoegsel, achternaam) => {\n    const v = voornaam && voornaam !== 'None' ? voornaam : '';\n    const t = tussenvoegsel && tussenvoegsel !== 'None' ? tussenvoegsel : '';\n    const a = achternaam && achternaam !== 'None' ? achternaam : '';\n    return `${v} ${t} ${a}`.replace(/\\s+/g, ' ').trim();\n  };\n\n  const berekenLeeftijd = (barcode) => {\n    if (!barcode || barcode.toString().length < 7) {\n      return '-';\n    }\n    \n    try {\n      const barcodeStr = barcode.toString().trim();\n      \n      if (barcodeStr.length >= 7) {\n        const maandDigit = barcodeStr[4];\n        const jaarDigits = barcodeStr.slice(5, 7);\n        \n        const maand = parseInt(maandDigit);\n        const jaar = parseInt(jaarDigits);\n        \n        if (maand < 1 || maand > 12) {\n          return `Onbekend (maand ${maand} ongeldig)`;\n        }\n        \n        const volledigJaar = 2000 + jaar;\n        const productieDatum = new Date(volledigJaar, maand - 1, 1);\n        const vandaag = new Date();\n        const leeftijdDagen = Math.floor((vandaag - productieDatum) / (1000 * 60 * 60 * 24));\n        const leeftijdMaanden = Math.floor(leeftijdDagen / 30);\n        \n        if (leeftijdMaanden < 0) {\n          return 'Onbekend (toekomstige datum)';\n        }\n        \n        if (leeftijdMaanden < 12) {\n          return `${leeftijdMaanden} maanden`;\n        } else {\n          const leeftijdJaren = Math.floor(leeftijdMaanden / 12);\n          const resterendeMaanden = leeftijdMaanden % 12;\n          if (resterendeMaanden === 0) {\n            return `${leeftijdJaren} jaar`;\n          } else {\n            return `${leeftijdJaren} jaar en ${resterendeMaanden} maanden`;\n          }\n        }\n      } else {\n        return 'Onbekend (te kort)';\n      }\n    } catch (e) {\n      return `Onbekend (fout: ${e})`;\n    }\n  };\n\n  const toBool = (val) => {\n    if (typeof val === 'boolean') return val;\n    if (typeof val === 'string') {\n      const v = val.trim().toLowerCase();\n      if (['true', 'ja', '1', 'yes'].includes(v)) return true;\n      if (['false', 'nee', '0', 'no', ''].includes(v)) return false;\n      return false;\n    }\n    if (typeof val === 'number') return val === 1;\n    return false;\n  };\n\n  const boolToJaNee = (val) => {\n    return val ? 'Ja' : 'Nee';\n  };\n\n  const showMessage = (text, type = 'info') => {\n    setMessage(text);\n    setMessageType(type);\n    setTimeout(() => {\n      setMessage('');\n      setMessageType('');\n    }, 5000);\n  };\n\n  const loadData = () => {\n    // Laad hardcoded data\n    setStandaardMattenData([...HARDCODED_STANDAARD_MATTEN]);\n    setLogomattenData([...HARDCODED_LOGOMATTEN]);\n    setWissersData([...HARDCODED_WISSERS]);\n    setToebehorenData([...HARDCODED_TOEBEHOREN]);\n    \n    // Laad standaard klant contactpersonen (Multihuur BV)\n    const defaultKlant = HARDCODED_CRM_KLANTEN.find(k => k.relatienummer === 'K001');\n    if (defaultKlant) {\n      setContactpersonen(defaultKlant.contactpersonen);\n    }\n  };\n\n  // Klant selectie functies\n  const handleKlantSelect = (klant) => {\n    setSelectedKlant(klant);\n    setFormData(prev => ({\n      ...prev,\n      relatienummer: klant.relatienummer,\n      klantnaam: klant.klantnaam,\n      contactpersoon: klant.contactpersonen.find(cp => cp.routecontact)?.voornaam + ' ' + \n                     (klant.contactpersonen.find(cp => cp.routecontact)?.tussenvoegsel || '') + ' ' + \n                     klant.contactpersonen.find(cp => cp.routecontact)?.achternaam || '',\n      contact_email: klant.contactpersonen.find(cp => cp.routecontact)?.email || ''\n    }));\n    setContactpersonen(klant.contactpersonen);\n    setKlantSearchTerm(klant.klantnaam);\n    setShowKlantDropdown(false);\n  };\n\n  const filteredKlanten = HARDCODED_CRM_KLANTEN.filter(klant => \n    klant.klantnaam.toLowerCase().includes(klantSearchTerm.toLowerCase()) ||\n    klant.relatienummer.toLowerCase().includes(klantSearchTerm.toLowerCase())\n  );\n\n  const saveInspectie = async () => {\n    try {\n      setLoading(true);\n      \n      const inspectieData = {\n        id: Date.now(),\n        relatienummer: formData.relatienummer,\n        klantnaam: formData.klantnaam,\n        contactpersoon: formData.contactpersoon,\n        contact_email: formData.contact_email,\n        inspecteur: formData.inspecteur,\n        datum: formData.datum,\n        tijd: formData.tijd,\n        standaard_matten_data: standaardMattenData,\n        logomatten_data: logomattenData,\n        wissers_data: wissersData,\n        toebehoren_data: toebehorenData,\n        matten_concurrenten: mattenConcurrenten,\n        wissers_concurrenten: wissersConcurrenten,\n        algemeen_values: formData.algemeen_values,\n        created_at: new Date().toISOString()\n      };\n\n      showMessage('Inspectie succesvol opgeslagen!', 'success');\n      \n      // Genereer to-do's\n      generateTodosSlim();\n      \n    } catch (error) {\n      showMessage(`Fout bij opslaan: ${error.message}`, 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Nieuwe slimme to-do logica\n  const generateTodosSlim = () => {\n    const serviceTodos = [];\n    const klantenserviceTodos = [];\n\n    // Matten (standaard en logo)\n    [...standaardMattenData, ...logomattenData].forEach(mat => {\n      const matNaam = mat.mat_type || 'Onbekend';\n      const afdeling = mat.afdeling || '';\n      const ligplaats = mat.ligplaats || '';\n      const locatie = (afdeling || ligplaats) ? ` (${afdeling}, ${ligplaats})` : '';\n      if (!mat.aanwezig) {\n        serviceTodos.push(`Controleer waarom mat '${matNaam}'${locatie} niet aanwezig is.`);\n      }\n      if ((mat.aantal ?? 1) === 0) {\n        serviceTodos.push(`Controleer of mat '${matNaam}'${locatie} verwijderd moet worden.`);\n      }\n      if (mat.vuilgraad_label === 'Sterk vervuild') {\n        serviceTodos.push(`Mat '${matNaam}'${locatie} vervangen of reinigen (sterk vervuild).`);\n      }\n      if (mat.schoon_onbeschadigd === false) {\n        serviceTodos.push(`Mat '${matNaam}'${locatie} inspecteren op schade.`);\n      }\n      if ((mat.opmerkingen || '').trim()) {\n        serviceTodos.push(`Controleer opmerking bij mat '${matNaam}'${locatie}: ${mat.opmerkingen}`);\n      }\n      if (afdeling === 'Algemeen' && ligplaats === 'Algemeen') {\n        serviceTodos.push(`Ligplaats controleren en aanpassen in TMS voor mat ${matNaam} (nu: Algemeen/Algemeen).`);\n      }\n      // Jaarcheck logomatten: alleen voor logomatten\n      if (mat.barcode && matNaam.toLowerCase().includes('logo')) {\n        const leeftijdStr = berekenLeeftijd(mat.barcode);\n        const match = leeftijdStr.match(/(\\d+) jaar/);\n        if (match && parseInt(match[1]) >= 3) {\n          serviceTodos.push(`Controleer logomat '${matNaam}' (ouder dan 3 jaar)`);\n          klantenserviceTodos.push(`Logomat ouder dan 3 jaar bij klant '${matNaam}': plan nieuwe logomat, check of logo gelijk is gebleven, geef aan dat je een nieuwe gaat bestellen.`);\n          if (parseInt(match[1]) >= 4) {\n            const repScore = mat.representativiteitsscore ?? 100;\n            if (repScore < 70) {\n              serviceTodos.push(`Logomat '${matNaam}'${locatie} moet vervangen worden: ouder dan 4 jaar en representativiteitsscore te laag.`);\n            }\n          }\n        }\n      }\n    });\n\n    // Wissers\n    wissersData.forEach(wisser => {\n      const wisserType = wisser.artikel || 'Onbekend';\n      if ((wisser.aantal_geteld ?? 0) === 0) {\n        serviceTodos.push(`Controleer of wisser van type '${wisserType}' verwijderd moet worden.`);\n      }\n      if ((wisser.opmerkingen || '').trim()) {\n        serviceTodos.push(`Controleer opmerking bij wisser van type '${wisserType}': ${wisser.opmerkingen}`);\n      }\n      // Upsell kans bij hoog verbruik (optioneel, als vuil percentage beschikbaar is)\n      if (wisser.vuil_percentage !== undefined && wisser.vuil_percentage !== null) {\n        const perc = parseFloat(wisser.vuil_percentage);\n        if (!isNaN(perc) && perc > 70) {\n          serviceTodos.push(`Upsell kans: ${wisserType} heeft hoog verbruik (${perc}% vuil). Overweeg extra wissers aan te bieden.`);\n        }\n      }\n    });\n\n    // Toebehoren\n    toebehorenData.forEach(acc => {\n      const accType = acc.artikel || 'Onbekend';\n      const aantal = acc.aantal ?? 0;\n      if (acc.vervangen && aantal > 0) {\n        serviceTodos.push(`Vervang ${aantal}x '${accType}' bij wissers.`);\n      }\n      if ((acc.opmerkingen || '').trim()) {\n        serviceTodos.push(`Controleer opmerking bij toebehoren '${accType}': ${acc.opmerkingen}`);\n      }\n    });\n\n    setTodoList(serviceTodos.map(text => ({ text, done: false })));\n    setKlantenserviceTodoList(klantenserviceTodos.map(text => ({ text, done: false })));\n  };\n\n  const sendToTMS = async () => {\n    try {\n      setLoading(true);\n      \n      const inspectieData = {\n        relatienummer: formData.relatienummer,\n        klantnaam: formData.klantnaam,\n        contactpersoon: formData.contactpersoon,\n        contact_email: formData.contact_email,\n        inspecteur: formData.inspecteur,\n        datum: formData.datum,\n        tijd: formData.tijd,\n        standaard_matten_data: standaardMattenData,\n        logomatten_data: logomattenData,\n        wissers_data: wissersData,\n        toebehoren_data: toebehorenData,\n        matten_concurrenten: mattenConcurrenten,\n        wissers_concurrenten: wissersConcurrenten,\n        algemeen_values: formData.algemeen_values,\n        todo_list: todoList,\n        klantenservice_todo_list: klantenserviceTodoList,\n        created_at: new Date().toISOString()\n      };\n\n      // Simuleer API call naar TMS\n      const response = await fetch('/api/tms/inspectie', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(inspectieData)\n      });\n\n      if (response.ok) {\n        showMessage('Inspectie succesvol naar TMS gestuurd!', 'success');\n      } else {\n        throw new Error('TMS API error');\n      }\n      \n    } catch (error) {\n      // Fallback: simuleer succesvolle verzending\n      showMessage('Inspectie succesvol naar TMS gestuurd! (Simulatie)', 'success');\n      console.log('TMS Data:', {\n        relatienummer: formData.relatienummer,\n        klantnaam: formData.klantnaam,\n        inspecteur: formData.inspecteur,\n        datum: formData.datum,\n        matten: standaardMattenData.length + logomattenData.length,\n        wissers: wissersData.length,\n        todos: todoList.length\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateExportRapport = () => {\n    const pdf = new jsPDF('p', 'mm', 'a4');\n    const pageWidth = 210;\n    const margin = 20;\n    let yPosition = 20;\n    \n    // Lavans kleuren\n    const lavansBlue = [0, 51, 102]; // #003366\n    const lavansLightBlue = [230, 240, 250]; // #E6F0FA\n    const lavansGreen = [0, 128, 64]; // #008040\n    \n    // Helper function to add text with line breaks - compact voor 1 A4\n    const addText = (text, fontSize = 10, isBold = false, color = [0, 0, 0]) => {\n      pdf.setFontSize(fontSize);\n      if (isBold) {\n        pdf.setFont('helvetica', 'bold');\n      } else {\n        pdf.setFont('helvetica', 'normal');\n      }\n      pdf.setTextColor(color[0], color[1], color[2]);\n      \n      const lines = pdf.splitTextToSize(text, pageWidth - 2 * margin);\n      lines.forEach(line => {\n        pdf.text(line, margin, yPosition);\n        yPosition += 4; // Compactere regelafstand\n      });\n      yPosition += 1;\n    };\n\n    // Helper function to add colored box\n    const addColoredBox = (text, fontSize = 12, isBold = true, bgColor = lavansBlue) => {\n      if (yPosition > 280) {\n        pdf.addPage();\n        yPosition = 20;\n      }\n      \n      // Colored background\n      pdf.setFillColor(bgColor[0], bgColor[1], bgColor[2]);\n      pdf.rect(margin - 2, yPosition - 4, pageWidth - 2 * margin + 4, 10, 'F');\n      \n      // White text\n      pdf.setFontSize(fontSize);\n      if (isBold) {\n        pdf.setFont('helvetica', 'bold');\n      } else {\n        pdf.setFont('helvetica', 'normal');\n      }\n      pdf.setTextColor(255, 255, 255);\n      pdf.text(text, margin, yPosition + 2);\n      \n      yPosition += 12;\n    };\n\n    // Header met logo plaats\n    pdf.setFillColor(lavansLightBlue[0], lavansLightBlue[1], lavansLightBlue[2]);\n    pdf.rect(0, 0, pageWidth, 40, 'F');\n    \n    // Logo placeholder (tekst voor nu)\n    pdf.setFontSize(20);\n    pdf.setFont('helvetica', 'bold');\n    pdf.setTextColor(lavansBlue[0], lavansBlue[1], lavansBlue[2]);\n    pdf.text('LAVANS', 20, 15);\n    \n    pdf.setFontSize(14);\n    pdf.setFont('helvetica', 'normal');\n    pdf.text('Service Inspectie Rapport', 20, 22);\n    \n    pdf.setFontSize(10);\n    pdf.setTextColor(100, 100, 100);\n    pdf.text(`Gegenereerd op: ${format(new Date(), 'dd-MM-yyyy HH:mm')}`, 20, 30);\n    \n    yPosition = 50;\n    \n    // Klant informatie\n    addColoredBox('KLANT INFORMATIE', 14, true);\n    addText(`Klantnaam: ${formData.klantnaam}`, 12, true);\n    addText(`Relatienummer: ${formData.relatienummer}`, 12);\n    addText(`Contactpersoon: ${formData.contactpersoon}`, 12);\n    addText(`Inspecteur: ${formData.inspecteur}`, 12);\n    addText(`Datum inspectie: ${formData.datum}`, 12);\n    addText(`Tijd inspectie: ${formData.tijd}`, 12);\n    addText('', 12);\n\n    // Samenvatting bevindingen\n    addColoredBox('SAMENVATTING BEVINDINGEN', 14, true);\n    \n    // Tel bevindingen\n    let totalIssues = 0;\n    let criticalIssues = 0;\n    let mattenIssues = 0;\n    let wissersIssues = 0;\n    \n    // Tel alle bevindingen\n    [...standaardMattenData, ...logomattenData].forEach(mat => {\n      if (!mat.aanwezig) {\n        mattenIssues++;\n        totalIssues++;\n        criticalIssues++;\n      }\n      if (mat.vuilgraad_label === 'Sterk vervuild') {\n        mattenIssues++;\n        totalIssues++;\n        criticalIssues++;\n      }\n      if (mat.schoon_onbeschadigd === false) {\n        mattenIssues++;\n        totalIssues++;\n      }\n      if (mat.opmerkingen && mat.opmerkingen.trim()) {\n        mattenIssues++;\n        totalIssues++;\n      }\n    });\n\n    wissersData.forEach(wisser => {\n      if (wisser.aantal_geteld === 0) {\n        wissersIssues++;\n        totalIssues++;\n      }\n    });\n\n    // Status bepaling\n    let status = 'GOED';\n    let statusColor = lavansGreen;\n    if (criticalIssues > 0) {\n      status = 'ATTENTIE NODIG';\n      statusColor = [255, 140, 0]; // Oranje\n    } else if (totalIssues > 5) {\n      status = 'CONTROLE AANBEVOLEN';\n      statusColor = [255, 193, 7]; // Geel\n    }\n\n    addText(`Status: ${status}`, 14, true, statusColor);\n    addText(`Totaal bevindingen: ${totalIssues}`, 12);\n    addText(`Kritieke issues: ${criticalIssues}`, 12);\n    addText(`Matten issues: ${mattenIssues}`, 12);\n    addText(`Wissers issues: ${wissersIssues}`, 12);\n    addText('', 12);\n\n    // Detail bevindingen\n    addColoredBox('DETAILBEVINDINGEN', 14, true);\n    \n    // Matten\n    const mattenBevindingen = [];\n    [...standaardMattenData, ...logomattenData].forEach(mat => {\n      if (!mat.aanwezig) {\n        mattenBevindingen.push(`• Mat '${mat.mat_type}' niet aanwezig op locatie ${mat.afdeling}, ${mat.ligplaats}`);\n      }\n      if (mat.vuilgraad_label === 'Sterk vervuild') {\n        mattenBevindingen.push(`• Mat '${mat.mat_type}' sterk vervuild - vervanging of reiniging nodig`);\n      }\n      if (mat.schoon_onbeschadigd === false) {\n        mattenBevindingen.push(`• Mat '${mat.mat_type}' heeft schade - inspectie vereist`);\n      }\n      if (mat.opmerkingen && mat.opmerkingen.trim()) {\n        mattenBevindingen.push(`• Mat '${mat.mat_type}': ${mat.opmerkingen}`);\n      }\n    });\n\n    if (mattenBevindingen.length > 0) {\n      addText('MATTEN:', 12, true, lavansBlue);\n      mattenBevindingen.forEach(bevinding => addText(bevinding, 10));\n      addText('', 12);\n    }\n\n    // Wissers\n    const wissersBevindingen = [];\n    wissersData.forEach(wisser => {\n      if (wisser.aantal_geteld === 0) {\n        wissersBevindingen.push(`• Geen wissers van type '${wisser.artikel}' aanwezig`);\n      }\n    });\n\n    if (wissersBevindingen.length > 0) {\n      addText('WISSERS:', 12, true, lavansBlue);\n      wissersBevindingen.forEach(bevinding => addText(bevinding, 10));\n      addText('', 12);\n    }\n\n    // Actiepunten\n    addColoredBox('ACTIEPUNTEN', 14, true);\n    \n    if (todoList.length > 0) {\n      addText('VOOR LAVANS SERVICE:', 12, true, lavansBlue);\n      todoList.forEach(todo => {\n        if (!todo.done) {\n          addText(`• ${todo.text}`, 10);\n        }\n      });\n      addText('', 12);\n    }\n\n    // Klant feedback\n    if (formData.algemeen_values.klant_feedback && formData.algemeen_values.klant_feedback.trim()) {\n      addColoredBox('KLANT FEEDBACK', 14, true);\n      addText(formData.algemeen_values.klant_feedback, 12);\n      addText('', 12);\n    }\n\n    // Volgende stappen\n    addColoredBox('VOLGENDE STAPPEN', 14, true);\n    addText('• Lavans neemt alle bevindingen in behandeling', 10);\n    addText('• Kritieke issues worden binnen 24 uur opgevolgd', 10);\n    addText('• Overige bevindingen worden in de volgende service ronde aangepakt', 10);\n    addText('• Voor vragen kunt u contact opnemen met uw accountmanager', 10);\n    addText('', 12);\n\n    // Footer met styling\n    if (yPosition > 260) {\n      pdf.addPage();\n      yPosition = 20;\n    }\n    \n    // Footer achtergrond\n    pdf.setFillColor(lavansLightBlue[0], lavansLightBlue[1], lavansLightBlue[2]);\n    pdf.rect(0, yPosition - 10, pageWidth, 297 - yPosition + 10, 'F');\n    \n    // Footer tekst\n    addText('Dit rapport is automatisch gegenereerd door Lavans Service', 8, false, lavansBlue);\n    addText('Voor vragen over dit rapport kunt u contact opnemen met uw accountmanager', 8, false, lavansBlue);\n    addText(`Rapport gegenereerd op: ${format(new Date(), 'dd-MM-yyyy HH:mm')}`, 8, false, lavansBlue);\n\n    // Save PDF\n    const fileName = `lavans_inspectie_${formData.relatienummer}_${format(new Date(), 'yyyyMMdd')}.pdf`;\n    pdf.save(fileName);\n    showMessage('Klantrapport succesvol gegenereerd!', 'success');\n  };\n\n  const updateStandaardMatData = (index, field, value) => {\n    const newData = [...standaardMattenData];\n    newData[index] = { ...newData[index], [field]: value };\n    setStandaardMattenData(newData);\n  };\n\n  const updateLogomatData = (index, field, value) => {\n    const newData = [...logomattenData];\n    newData[index] = { ...newData[index], [field]: value };\n    setLogomattenData(newData);\n  };\n\n  const updateWisserData = (index, field, value) => {\n    const newData = [...wissersData];\n    newData[index] = { ...newData[index], [field]: value };\n    setWissersData(newData);\n  };\n\n  const updateToebehorenData = (index, field, value) => {\n    const newData = [...toebehorenData];\n    newData[index] = { ...newData[index], [field]: value };\n    setToebehorenData(newData);\n  };\n\n  const updateContactpersoon = (index, field, value) => {\n    const newData = [...contactpersonen];\n    newData[index] = { ...newData[index], [field]: value };\n    setContactpersonen(newData);\n  };\n\n  const updateAlgemeenValue = (key, value) => {\n    setFormData(prev => ({\n      ...prev,\n      algemeen_values: {\n        ...prev.algemeen_values,\n        [key]: value\n      }\n    }));\n  };\n\n  const addContactpersoon = () => {\n    setContactpersonen([...contactpersonen, {\n      voornaam: '',\n      tussenvoegsel: '',\n      achternaam: '',\n      email: '',\n      telefoon: '',\n      klantenportaal: '',\n      nog_in_dienst: true,\n      routecontact: false\n    }]);\n  };\n\n  const removeContactpersoon = (index) => {\n    const newData = [...contactpersonen];\n    newData.splice(index, 1);\n    setContactpersonen(newData);\n  };\n\n  const saveContactWijzigingen = () => {\n    const nieuweTodos = [];\n    \n    contactpersonen.forEach(contact => {\n      const naam = formatNaam(contact.voornaam, contact.tussenvoegsel, contact.achternaam);\n      \n      // Check voor nieuwe contactpersonen\n      if (contact.nog_in_dienst && !contact.email) {\n        nieuweTodos.push(`Nieuwe contactpersoon toevoegen: ${naam}`);\n      }\n      \n      // Check voor klantportaal uitnodiging\n      if (contact.nog_in_dienst && !contact.klantenportaal) {\n        nieuweTodos.push(`Uitnodigen klantportaal voor ${contact.email}`);\n      }\n      \n      // Check voor niet meer in dienst\n      if (!contact.nog_in_dienst) {\n        nieuweTodos.push(`Contactpersoon ${naam} (${contact.email}) is niet meer in dienst. Controleer en update CRM.`);\n      }\n    });\n    \n    setKlantenserviceTodoList(nieuweTodos.map(text => ({ text, done: false })));\n    showMessage('Wijzigingen gelogd en to-do\\'s voor klantenservice toegevoegd!', 'success');\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"header\">\n        <img \n          src=\"/Logo-Lavans-png.png\" \n          alt=\"Lavans logo\" \n          className=\"header-logo\"\n        />\n        <h1>Lavans Service App</h1>\n        <p>Ideaal Servicemoment</p>\n      </div>\n\n      <div className=\"container\">\n        {message && (\n          <div className={`alert alert-${messageType}`}>\n            {message}\n          </div>\n        )}\n\n        <div className=\"tabs-container\">\n          <div className=\"tabs\">\n            <button\n              className={`tab ${activeTab === 'inspectie' ? 'active' : ''}`}\n              onClick={() => setActiveTab('inspectie')}\n            >\n              Inspectie\n            </button>\n            <button\n              className={`tab ${activeTab === 'todos' ? 'active' : ''}`}\n              onClick={() => setActiveTab('todos')}\n            >\n              To-Do's\n            </button>\n            <button\n              className={`tab ${activeTab === 'contactpersonen' ? 'active' : ''}`}\n              onClick={() => setActiveTab('contactpersonen')}\n            >\n              Contactpersonen\n            </button>\n          </div>\n        </div>\n\n        {activeTab === 'inspectie' && (\n          <InspectieTab\n            formData={formData}\n            setFormData={setFormData}\n            mattenConcurrenten={mattenConcurrenten}\n            setMattenConcurrenten={setMattenConcurrenten}\n            wissersConcurrenten={wissersConcurrenten}\n            setWissersConcurrenten={setWissersConcurrenten}\n            standaardMattenData={standaardMattenData}\n            setStandaardMattenData={setStandaardMattenData}\n            logomattenData={logomattenData}\n            setLogomattenData={setLogomattenData}\n            wissersData={wissersData}\n            setWissersData={setWissersData}\n            toebehorenData={toebehorenData}\n            setToebehorenData={setToebehorenData}\n            updateStandaardMatData={updateStandaardMatData}\n            updateLogomatData={updateLogomatData}\n            updateWisserData={updateWisserData}\n            updateToebehorenData={updateToebehorenData}\n            updateAlgemeenValue={updateAlgemeenValue}\n            berekenLeeftijd={berekenLeeftijd}\n            toBool={toBool}\n            boolToJaNee={boolToJaNee}\n            saveInspectie={saveInspectie}\n            sendToTMS={sendToTMS}\n            generateExportRapport={generateExportRapport}\n            loading={loading}\n            // Klant selectie props\n            selectedKlant={selectedKlant}\n            klantSearchTerm={klantSearchTerm}\n            setKlantSearchTerm={setKlantSearchTerm}\n            showKlantDropdown={showKlantDropdown}\n            setShowKlantDropdown={setShowKlantDropdown}\n            filteredKlanten={filteredKlanten}\n            handleKlantSelect={handleKlantSelect}\n          />\n        )}\n        {activeTab === 'todos' && (\n          <TodoTab\n            todoList={todoList}\n            setTodoList={setTodoList}\n            klantenserviceTodoList={klantenserviceTodoList}\n            setKlantenserviceTodoList={setKlantenserviceTodoList}\n          />\n        )}\n        {activeTab === 'contactpersonen' && (\n          <ContactpersonenTab\n            contactpersonen={contactpersonen}\n            setContactpersonen={setContactpersonen}\n            addContactpersoon={addContactpersoon}\n            removeContactpersoon={removeContactpersoon}\n            updateContactpersoon={updateContactpersoon}\n            saveContactWijzigingen={saveContactWijzigingen}\n            formatNaam={formatNaam}\n          />\n        )}\n\n      </div>\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}